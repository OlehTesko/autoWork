(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))h(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function v(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function h(o){if(o.ep)return;o.ep=!0;const c=v(o);fetch(o.href,c)}})(),window.addEventListener("DOMContentLoaded",()=>{const w="1ROazjZqlqZq4CPEY4Gb-TnH2iiN_Q9ytyw1GNl4Z214",d=[{name:"Studenty",process:t=>t.map(n=>n.c.slice(0,3).map(s=>{const e=s?.v;return typeof e=="boolean"?e?"\u043F\u043E\u0434\u0430\u0432":"\u043D\u0435 \u043F\u043E\u0434\u0430\u0432":e}))},{name:"prihlaska",process:t=>{let n="";return t.slice(1).map(i=>i.c.slice(0,4).map((e,r)=>{const a=e?.v??"";if(r===0){if(a==="")return n;n=a}return a})).filter(i=>i.some(s=>s!==null&&s!==""))}},{name:"Doc",process:t=>t.slice(1).map(n=>n.c.map((s,e)=>{const r=s?.v??"";return e<2?r:r!==""})).filter(n=>n.some(i=>i!==null&&i!==""))},{name:"MAIS",process:t=>{const n=["TUKE","STU","UPJS","UNIBA","UKF","UNIZA","UNIPO","TNUNI","TUZVO","UCM","TRUNI","UMB"],i=[];t.forEach((e,r)=>{!e||!e.c||e.c.forEach((a,m)=>{const L=a?.v??"";if(n.includes(L)){const u=i.findLast(f=>f.startCol===m);u&&(u.finishRow=r),i.push({value:L,startRow:r,finishRow:t.length,startCol:m,finishCol:m+6})}})});const s=[];return i.forEach(e=>{const r=[];for(let u=e.startRow;u<e.finishRow;u++){const f=t[u];if(!f||!f.c)continue;const p=f.c.slice(e.startCol,e.finishCol+1).map(g=>g?.v??"");p.every(g=>g==="")||r.push(p)}const a=r[0]?r[0].map((u,f)=>r.some(p=>p[f]!=="")):[];r.map(u=>u.filter((f,p)=>a[p])).slice(2).forEach((u,f)=>{s.push({university:e.value,rowIndex:e.startRow+f+2,values:u})})}),s}}];function v(t){const n=`https://docs.google.com/spreadsheets/d/${w}/gviz/tq?tqx=out:json&sheet=${t.name}`;return fetch(n).then(i=>i.text()).then(i=>{const s=JSON.parse(i.substring(47).slice(0,-2)),e=s.table.rows,r=s.table.cols;return t.process(e,r)})}async function h(){return Promise.all(d.map(n=>v(n))).then(n=>d.reduce((s,e,r)=>(s[e.name.toLocaleLowerCase()]=n[r],s),{})).catch(n=>{console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u0456:",n)})}const o=document.querySelector(".input");h().then(t=>{o.addEventListener("input",n=>{C(t.studenty,o.value,o)})});let c=-1,l=[];function C(t,n,i){const s=["open","data"],e=[];t.forEach(r=>{s.forEach(a=>{e.push(`${a}-${r[1].toLowerCase()}-${r[2].toLowerCase()}`)})}),l=e.filter(r=>typeof r=="string"&&r.toLowerCase().includes(n)),i.value.length===0&&(suggestionsList.innerHTML=""),l=l.slice(0,10),c=-1,y(i)}function y(t){suggestionsList.innerHTML="",!(t.value.length===0||l.length===0)&&l.forEach((n,i)=>{const s=document.createElement("li");s.textContent=n,s.classList.toggle("active",i===c),s.addEventListener("click",()=>{t.value=n,suggestionsList.innerHTML=""}),suggestionsList.appendChild(s)})}document.addEventListener("keydown",t=>{l.length&&(t.key==="ArrowDown"?(c=(c+1)%l.length,y(o)):t.key==="ArrowUp"?(c=(c-1+l.length)%l.length,y(o)):t.key==="Enter"&&c>=0&&l[c]&&(o.value=l[c],suggestionsList.innerHTML="",t.preventDefault()))})});
