(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))g(p);new MutationObserver(p=>{for(const s of p)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&g(n)}).observe(document,{childList:!0,subtree:!0});function S(p){const s={};return p.integrity&&(s.integrity=p.integrity),p.referrerPolicy&&(s.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?s.credentials="include":p.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function g(p){if(p.ep)return;p.ep=!0;const s=S(p);fetch(p.href,s)}})();let slideUp=(e,v=500,S=0)=>{e.classList.contains("--slide")||(e.classList.add("--slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=v+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=S?`${S}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!S,S||e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),S||e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},v))},slideDown=(e,v=500,S=0)=>{if(!e.classList.contains("--slide")){e.classList.add("--slide"),e.hidden=e.hidden?!1:null,S&&e.style.removeProperty("height");let g=e.offsetHeight;e.style.overflow="hidden",e.style.height=S?`${S}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=v+"ms",e.style.height=g+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},v)}},slideToggle=(e,v=500)=>e.hidden?slideDown(e,v):slideUp(e,v);function dataMediaQueries(e,v){const S=Array.from(e).filter(s=>s.dataset[v]).map(s=>{const[n,i="max"]=s.dataset[v].split(",");return{value:n,type:i,item:s}});if(S.length===0)return[];const g=S.map(({value:s,type:n})=>`(${n}-width: ${s}px),${s},${n}`);return[...new Set(g)].map(s=>{const[n,i,u]=s.split(","),d=window.matchMedia(n);return{itemsArray:S.filter(a=>a.value===i&&a.type===u),matchMedia:d}})}function spollers(){const e=document.querySelectorAll("[data-fls-spollers]");if(e.length>0){let s=function(a,l=!1){a.forEach(r=>{r=l?r.item:r,l.matches||!l?(r.classList.add("--spoller-init"),n(r)):(r.classList.remove("--spoller-init"),n(r,!1))})},n=function(a,l=!0){let r=a.querySelectorAll("details");r.length&&r.forEach(t=>{let o=t.querySelector("summary");l?(o.removeAttribute("tabindex"),t.hasAttribute("data-fls-spollers-open")?(o.classList.add("--spoller-active"),t.open=!0):(t.open=!1,o.nextElementSibling.hidden=!0)):(o.setAttribute("tabindex","-1"),o.classList.remove("--spoller-active"),t.open=!0,o.nextElementSibling.hidden=!1)})},i=function(a){const l=a.target;if(l.closest("summary")&&l.closest("[data-fls-spollers]")&&(a.preventDefault(),l.closest("[data-fls-spollers]").classList.contains("--spoller-init"))){const r=l.closest("summary"),t=r.closest("details"),o=r.closest("[data-fls-spollers]"),h=o.hasAttribute("data-fls-spollers-one"),y=t.hasAttribute("data-fls-spollers-scroll"),L=o.dataset.flsSpollersSpeed?parseInt(o.dataset.flsSpollersSpeed):500;if(!o.querySelectorAll(".--slide").length&&(h&&!t.open&&u(o),t.open?setTimeout(()=>{t.open=!1},L):t.open=!0,r.classList.toggle("--spoller-active"),slideToggle(r.nextElementSibling,L),y&&r.classList.contains("--spoller-active"))){const A=t.dataset.flsSpollersScroll,T=+A?+A:0,E=t.hasAttribute("data-fls-spollers-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:t.offsetTop-(T+E),behavior:"smooth"})}}if(!l.closest("[data-fls-spollers]")){const r=document.querySelectorAll("[data-fls-spollers-close]");r.length&&r.forEach(t=>{const o=t.closest("[data-fls-spollers]"),h=t.parentNode;if(o.classList.contains("--spoller-init")){const y=o.dataset.flsSpollersSpeed?parseInt(o.dataset.flsSpollersSpeed):500;t.classList.remove("--spoller-active"),slideUp(t.nextElementSibling,y),setTimeout(()=>{h.open=!1},y)}})}},u=function(a){const l=a.querySelector("details[open]");if(l&&!a.querySelectorAll(".--slide").length){const r=l.querySelector("summary"),t=a.dataset.flsSpollersSpeed?parseInt(a.dataset.flsSpollersSpeed):500;r.classList.remove("--spoller-active"),slideUp(r.nextElementSibling,t),setTimeout(()=>{l.open=!1},t)}};var v=s,S=n,g=i,p=u;document.addEventListener("click",i);const d=Array.from(e).filter(function(a,l,r){return!a.dataset.flsSpollers.split(",")[0]});d.length&&s(d);let f=dataMediaQueries(e,"flsSpollers");f&&f.length&&f.forEach(a=>{a.matchMedia.addEventListener("change",function(){s(a.itemsArray,a.matchMedia)}),s(a.itemsArray,a.matchMedia)})}}window.addEventListener("load",spollers),window.addEventListener("DOMContentLoaded",()=>{const e="1ROazjZqlqZq4CPEY4Gb-TnH2iiN_Q9ytyw1GNl4Z214",v=[{name:"Studenty",process:s=>s.map(n=>n.c.slice(0,3).map(u=>{const d=u?.v;return typeof d=="boolean"?d?"\u043F\u043E\u0434\u0430\u0432":"\u043D\u0435 \u043F\u043E\u0434\u0430\u0432":d}))},{name:"prihlaska",process:s=>{let n="";return s.slice(1).map(i=>i.c.slice(0,4).map((d,f)=>{const a=d?.v??"";if(f===0){if(a==="")return n;n=a}return a})).filter(i=>i.some(u=>u!==null&&u!==""))}},{name:"Doc",process:s=>s.slice(1).map(n=>n.c.map((u,d)=>{const f=u?.v??"";return d<2?f:f!==""})).filter(n=>n.some(i=>i!==null&&i!==""))},{name:"MAIS",process:s=>{const n=["TUKE","SPU","STU","UPJS","UNIBA","UKF","UNIZA","PEVS","UNIPO","TNUNI","TUZVO","UCM","TRUNI","UMB"],i=[];s.forEach((d,f)=>{!d||!d.c||d.c.forEach((a,l)=>{const r=a?.v??"";if(n.includes(r)){const t=i.findLast(o=>o.startCol===l);t&&(t.finishRow=f),i.push({value:r,startRow:f,finishRow:s.length,startCol:l,finishCol:l+6})}})});const u=[];return i.forEach(d=>{const f=[];for(let t=d.startRow;t<d.finishRow;t++){const o=s[t];if(!o||!o.c)continue;const h=o.c.slice(d.startCol,d.finishCol+1).map(L=>L?.v??"");h.every(L=>L==="")||f.push(h)}const a=f[0]?f[0].map((t,o)=>f.some(h=>h[o]!=="")):[];f.map(t=>t.filter((o,h)=>a[h])).slice(2).forEach((t,o)=>{u.push({university:d.value,rowIndex:d.startRow+o+2,values:t})})}),u}}];function S(s){const n=`https://docs.google.com/spreadsheets/d/${e}/gviz/tq?tqx=out:json&sheet=${s.name}`;return fetch(n).then(i=>i.text()).then(i=>{const u=JSON.parse(i.substring(47).slice(0,-2)),d=u.table.rows,f=u.table.cols;return s.process(d,f)})}async function g(){return Promise.all(v.map(n=>S(n))).then(n=>v.reduce((u,d,f)=>(u[d.name.toLocaleLowerCase()]=n[f],u),{})).catch(n=>{console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u0456:",n)})}const p=document.querySelector(".input");g().then(s=>{window.data=JSON.stringify(s);let n=-1,i=[];function u(l,r,t){const o=["open","open-e"],h=["data"];l.forEach(y=>{o.forEach(L=>{h.push(`${L}-${y[1].toLowerCase()}-${y[2].toLowerCase()}`)})}),i=h.filter(y=>typeof y=="string"&&y.toLowerCase().includes(r)),t.value.length===0&&(suggestionsList.innerHTML=""),i=i.slice(0,10),n=-1,d(t)}function d(l){suggestionsList.innerHTML="",!(l.value.length===0||i.length===0)&&i.forEach((r,t)=>{const o=document.createElement("li");o.classList.add("find-item"),o.textContent=r,o.classList.toggle("active",t===n),o.addEventListener("click",()=>{l.value=r,suggestionsList.innerHTML="",f(l.value,s)}),suggestionsList.appendChild(o)})}document.addEventListener("keydown",l=>{l.key==="Enter"&&(f(p.value,s),setTimeout(()=>{p.value="",suggestionsList.innerHTML=""},500)),i.length&&(l.key==="ArrowDown"?(n=(n+1)%i.length,d(p)):l.key==="ArrowUp"?(n=(n-1+i.length)%i.length,d(p)):l.key==="Enter"&&n>=0&&i[n]&&(p.value=i[n],suggestionsList.innerHTML="",l.preventDefault()))});function f(l,r){if(l==="data"){const t={};r.mais.forEach(h=>{const y=h.university,L=h.values[0],A=h.values[4],T=h.values[5];y&&(t[y]||(t[y]={university:y,total:0,intrak:[],zapis:[]}),t[y].total+=1,A!=="\u041F\u043E\u0434\u0430\u0432"&&t[y].intrak.push(L),T!=="\u041F\u043E\u0434\u0430\u0432"&&t[y].zapis.push(L))});const o=Object.values(t);a(o)}}function a(l,r){{const t=document.querySelector(".info");t.innerHTML="";const o=document.createElement("h3");o.classList.add("info__title"),o.textContent="\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430",t.appendChild(o);const h=document.createElement("h4");h.classList.add("info__subtitle"),h.textContent=`\u0412\u0441\u044C\u043E\u0433\u043E \u043F\u043E\u0434\u0430\u043D\u043E \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u0456\u0432: ${l.reduce((c,m)=>c+m.total,0)}, \u043F\u0456\u0434\u043F\u0438\u0441\u0430\u043D\u0438\u0445 \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u0456\u0432: ${s.studenty.length}`,t.appendChild(h);const y=document.createElement("div");y.classList.add("info__items"),t.appendChild(y),l.forEach(c=>{const m=document.createElement("div");m.classList.add("info__card");const w=document.createElement("h5");w.classList.add("info__card-title"),w.textContent=`${c.university} : ${c.total} \u0441\u0442\u0443\u0434\u0435\u043D\u0442`,m.appendChild(w);const C=document.createElement("div");C.classList.add("spollers"),C.setAttribute("data-fls-spollers","");for(const b of["zapis","intrak"])if(c[b].length>0){const _=document.createElement("details");_.classList.add("spollers__item");const N=document.createElement("summary");N.classList.add("spollers__title"),N.textContent=`\u041D\u0435 \u043F\u043E\u0434\u0430\u043D\u0456 ${b}: ${c[b].length}`,_.appendChild(N);const $=document.createElement("div");$.classList.add("spollers__body"),c[b].forEach(z=>{const U=document.createElement("p");U.classList.add("spollers__student"),U.textContent=z,$.appendChild(U)}),_.appendChild($),C.appendChild(_)}m.appendChild(C),y.appendChild(m)});const L=document.createElement("h4");L.classList.add("info__subtitle"),L.textContent="C\u0442\u0443\u0434\u0435\u043D\u0442\u0438, \u044F\u043A\u0456\u0445 \u043D\u0435\u043C\u0430\u0454 \u0432 MAIS/AIS",t.appendChild(L);const A=c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase(),T=(c,m)=>`${A(c)} ${A(m)}`,E=(c,m)=>[c,m].map(w=>w.trim().toLowerCase()).sort().join(" "),M=s.studenty.map(c=>({normalized:E(c[1],c[2]),display:T(c[1],c[2])})),x={};s.mais.forEach(c=>{const m=c.values[0],w=c.university;if(!m||!w)return;const C=m.trim().toLowerCase().split(/\s+/);if(C.length<2)return;const b=E(C[0],C[1]),_=T(C[0],C[1]);x[b]||(x[b]={display:_,universities:new Set}),x[b].universities.add(w)});const q=[];for(const[c,m]of Object.entries(x))m.universities.size>=2&&q.push({name:m.display,universities:Array.from(m.universities)});const O=[E("vitalii ","cherniuk"),E("dmytro","novikov"),E("arsenii","hubenko"),E("ivan","dinov"),E("dmytro","slupetskyi"),E("Sarana","Daria")],R=Object.keys(x);M.filter(c=>!R.includes(c.normalized)&&!O.includes(c.normalized)).map(c=>c.display).forEach(c=>{const m=document.createElement("p");m.classList.add("info__text"),m.textContent=c,t.appendChild(m)});const P=document.createElement("h4");P.classList.add("info__subtitle"),P.textContent="C\u0442\u0443\u0434\u0435\u043D\u0442\u0438, \u044F\u043A\u0456 \u043F\u043E\u0434\u0430\u043B\u0438\u0441\u044F \u0432 2+ \u0443\u043D\u0456\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0438",t.appendChild(P),q.forEach(c=>{const m=document.createElement("p");m.classList.add("info__text"),m.textContent=`${c.name}: ${c.universities.join(", ")}`,t.appendChild(m)}),spollers()}}p.addEventListener("input",l=>{u(s.studenty,p.value,p)})})});
